@startuml

!startsub PARTS
!include events.puml

!procedure $placeCard_req($client, $server=Server)
    $client -> $server: placeCard(cardPlacement)
!endprocedure

!procedure $placeCard_res_OK($client, $server=Server)
    $server --> $client: OK
!endprocedure

!endsub

title Place a card
participant Alice
participant Server
participant Bob

hnote over Alice : IN_GAME
/ hnote over Bob : IN_GAME

$event_seq_newTurn_PLACING($inGame="Alice~Bob")
$event_setPlayablePosition(Alice)
'FIXME: how do we notice that?
note over Alice : It is Alice's turn
$placeCard_req(Alice)
alt
    $placeCard_res_OK(Alice)
    $event_seq_updatePlayArea(Alice, $inGame="Alice~Bob")
    $event_seq_newTurn_DRAWING($inGame="Alice~Bob")
else Player has not the card in his hand
    Server --> Alice: KO, invalidCard()
else There aren't enough resources
    Server --> Alice: KO, insufficientResources()
else Invalid position chosen
    Server --> Alice: KO, invalidPosition()
end
'FIXME: useless?
note over Alice : It is still Alice's turn

@enduml
